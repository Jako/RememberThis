!function(a,b,c,d){function e(b,c){this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.$el=a(b),this.init()}var f="rememberThis",g={ajaxLoaderImg:"",onBeforeAdd:function(a,b,c){},onBeforeDelete:function(a,b,c){},onAfterAdd:function(a,b,c){},onAfterDelete:function(a,b,c){}};e.prototype={init:function(){var b=this;""!==b.options.ajaxLoaderImg?b.options.loadImage=a("<img>").addClass("rememberload").attr("src",b.options.ajaxLoaderImg):b.options.loadImage=a("<i>").addClass("fa fa-refresh fa-spin rememberload"),a(".rememberadd").on("click",function(c){c.preventDefault();var d=a(this).data("add");a(this).append(b.options.loadImage.clone()),b.options.onBeforeAdd.call(b.$el,this,d),b.onAdd(b.$el,this,d),b.options.onAfterAdd.call(b.$el,this,d)}),b.$el.on("click",".rememberdelete",function(c){c.preventDefault();var d=a(this).data("delete");a(this).hide().after(b.options.loadImage.clone()),b.options.onBeforeDelete.call(b.$el,this,d),b.onDelete(b.$el,this,d),b.options.onAfterDelete.call(b.$el,this,d)})},onAdd:function(b,c,d){var e=this;a.ajax({type:"GET",url:e.options.connectorUrl,data:{language:e.options.language,action:"remember",add:d},success:function(c){if(a(".rememberload").remove(),a(".rememberempty",b).length)b.slideUp("fast",function(){a(".remembercount").html(c.count),a(this).html(c.result).slideDown("slow")});else if(c.result){var d=a(c.result).attr("style","display: none");b.append(d),a(".remembercount").html(c.count),d.slideDown("slow")}}})},onDelete:function(b,c,d){var e=this;a.ajax({type:"GET",url:e.options.connectorUrl,data:{language:e.options.language,action:"remember","delete":d},success:function(d){d.count&&"0"!=d.count?a(c).parent().slideUp("slow",function(){a(".remembercount").html(d.count),a(this).remove()}):b.slideUp("slow",function(){a(".remembercount").html(d.count),a(this).html(a.trim(d.result)).slideDown("fast")})}})}},a.fn[f]=function(b){var c=arguments;if(b===d||"object"==typeof b)return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))});if("string"==typeof b&&"_"!==b[0]&&"init"!==b){var g;return this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof e&&"function"==typeof d[b]&&(g=d[b].apply(d,Array.prototype.slice.call(c,1))),"destroy"===b&&a.data(this,"plugin_"+f,null)}),g!==d?g:this}}}(jQuery,window,document);